@import "@fontsource/manrope/index.css"; /* ou /400.css etc. */

@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes zoom-in {
  from { transform: scale(0.97); opacity: 0; }
  to   { transform: scale(1); opacity: 1; }
}

.animate-zoom-in {
  animation: zoom-in 0.6s ease forwards;
}

@keyframes zoom-in-out {
  0%   { transform: scale(0.95); opacity: 0.8; }
  50%  { transform: scale(1.1);    opacity: 1; }
  100% { transform: scale(0.95); opacity: 0.8; }
}

.animate-zoom-in-out {
  animation: zoom-in-out 1s ease-in-out infinite;
}

@layer utilities {
  .bg-page {
    background-color: var(--aw-color-bg-page);
  }
  .bg-dark {
    background-color: var(--aw-color-bg-page-dark);
  }
  .bg-light {
    background-color: var(--aw-color-bg-page);
  }
  .text-page {
    color: var(--aw-color-text-page);
  }
  .text-muted {
    color: var(--aw-color-text-muted);
  }
   .bg-gradient-primary {
    /* utilise directement les variables (déjà hsl(...)) */
    background-image: linear-gradient(135deg, var(--aw-color-primary), var(--aw-color-accent));
  }
.border-primary-light {
    border-color: var(--aw-color-primary-light);
  }
  .text-gradient-primary {
    background-image: linear-gradient(135deg, var(--aw-color-primary), var(--aw-color-accent));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }




 /* Hauteur */
.scrollbar-zwift::-webkit-scrollbar{ height:10px; }

/* Track centré à 80% (10% à gauche/droite) */
.scrollbar-zwift::-webkit-scrollbar-track{
  background:#60606046;
    border-radius: 9999px;         /* ⬅︎ arrondi du track */

  background-clip:content-box;
  border-left:10vw solid transparent;
  border-right:10vw solid transparent;
  opacity:0; transition:opacity .25s;
}

/* Thumb “coloré” contraint visuellement à 80% */
.scrollbar-zwift::-webkit-scrollbar-thumb{
  /* même “gouttière” que le track : */
  border-left:10vw solid transparent;
  border-right:10vw solid transparent;
    background:var(--aw-color-primary);
  border-radius:9999px;

  background-clip:content-box;          /* important */
  opacity:0; transition:opacity .25s;
}

/* Affiché pendant le scroll */
.scrollbar-zwift.showing::-webkit-scrollbar-track,
.scrollbar-zwift.showing::-webkit-scrollbar-thumb{ opacity:1; }


/* 1) cacher la native partout */
.hide-native-scroll { scrollbar-width: none; }
.hide-native-scroll::-webkit-scrollbar { width:0; height:0; }

/* 2) piste factice, 80% du wrapper, arrondie */
.fakebar{
  position: absolute;
  left: 10%;               /* => 80% visibles */
  right: 10%;
  bottom: -10px;               /* sous les items */
  height: 10px;
  background: #6262627c;     /* track */
  border-radius: 9999px;   /* arrondi */
  opacity: 0;              /* auto-hide par défaut */
  pointer-events: none;
  transition: opacity .2s ease;
  z-index: 10;
}
.fakebar.show{ opacity: 1; }

.fakebar .thumb{
  position: absolute;
  top: 2px; bottom: 2px;   /* épaisseur du pouce */
  left: 0;
  width: 30px;             /* sera ajusté en JS */
  background: var(--aw-color-primary);
  border-radius: 9999px;   /* arrondi du thumb */
}


  /* === Scrollbar custom === */
.scrollbar-custom::-webkit-scrollbar {
  height: 8px; /* largeur si horizontal */
  
}

/* Vars par défaut (clair) */
.scrollbar-custom {
  /* Firefox */
  scrollbar-width: thin;
  /* Si --aw-color-primary est un "hsl(...)" complet -> utilise var() direct,
     sinon, si c'est des *composants* HSL, remplace par hsl(var(--aw-color-primary)) */
  --sb-track: transparent;
  --sb-thumb: var(--aw-color-primary);
  --sb-thumb-hover: var(--aw-color-primary-dark);
  scrollbar-color: var(--sb-thumb) var(--sb-track);
}

.scrollbar-custom::-webkit-scrollbar-track {
  background: var(--sb-track);
  /* raccourcir la course si tu veux, optionnel : */
  /* background-clip: content-box; padding: 0 40px;  <-- plus fiable que border transparent */
}
.scrollbar-custom::-webkit-scrollbar-thumb {
  background-color: var(--sb-thumb);
  border-radius: 9999px;
  border: 2px solid transparent;     /* effet "pill" fin */
  background-clip: content-box;
}
.scrollbar-custom::-webkit-scrollbar-thumb:hover {
  background-color: var(--sb-thumb-hover);
}

/* Variante dark (si <html class="dark">) */
.dark .scrollbar-custom {
  --sb-thumb: var(--aw-color-primary-light);
  --sb-thumb-hover: var(--aw-color-primary);
}


}


@layer components {
  .btn {
    @apply inline-flex items-center justify-center rounded-xl border-gray-400 border bg-transparent font-medium text-center text-base text-page leading-snug transition py-3.5 px-6 md:px-8 ease-in duration-200 focus:ring-blue-500 focus:ring-offset-blue-200 focus:ring-2 focus:ring-offset-2 hover:bg-gray-100 hover:border-gray-600 dark:text-slate-300 dark:border-slate-500 dark:hover:bg-slate-800 dark:hover:border-slate-800 cursor-pointer;
  }

  .btn-primary {
 /* IMPORTANT: AUCUN bg-* ici, on met le gradient directement */
    @apply btn font-semibold text-[hsl(var(--primary-foreground))] 
    dark:text-secondary hover:dark:text-secondary border-primary
        dark:border-primary-light dark:hover:border-primary ;
    background-image: linear-gradient(135deg, var(--aw-color-primary), var(--aw-color-primary-dark));
   }   
.dark .btn-primary:hover {
    box-shadow: var(--shadow-glow);
        background-image: linear-gradient(135deg, var(--aw-color-primary-light),var(--aw-color-primary), var(--aw-color-primary-light));    filter: brightness(1.06);
  }

  /* Optionnel: gradient spécifique en dark (sinon garde le même) */

  .btn-secondary {
    @apply btn;
  }

  .btn-tertiary {
    @apply btn border-none shadow-none text-muted hover:text-gray-900 dark:text-gray-400 dark:hover:text-white;
  }
}

#header.scroll > div:first-child {
  @apply bg-page md:bg-white/90 md:backdrop-blur-md;
  box-shadow: 0 0.375rem 1.5rem 0 rgb(140 152 164 / 13%);
}
.dark #header.scroll > div:first-child,
#header.scroll.dark > div:first-child {
  @apply bg-page md:bg-[#030621e6] border-b border-gray-500/20;
  box-shadow: none;
}
/* #header.scroll > div:last-child {
  @apply py-3;
} */

#header.expanded nav {
  position: fixed;
  top: 70px;
  left: 0;
  right: 0;
  bottom: 70px !important;
  padding: 0 5px;
}

.dropdown:focus .dropdown-menu,
.dropdown:focus-within .dropdown-menu,
.dropdown:hover .dropdown-menu {
  display: block;
}

[astro-icon].icon-light > * {
  stroke-width: 1.2;
}

[astro-icon].icon-bold > * {
  stroke-width: 2.4;
}

[data-aw-toggle-menu] path {
  @apply transition;
}
[data-aw-toggle-menu].expanded g > path:first-child {
  @apply -rotate-45 translate-y-[15px] translate-x-[-3px];
}

[data-aw-toggle-menu].expanded g > path:last-child {
  @apply rotate-45 translate-y-[-8px] translate-x-[14px];
}

/* To deprecated */

.dd *:first-child {
  margin-top: 0;
}
