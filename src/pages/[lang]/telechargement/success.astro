---
import { Icon } from 'astro-icon/components';
import Layout from '~/layouts/Layout.astro';
import { getDict, t } from '~/lib/i18n';

const { lang } = Astro.params;
const dict = getDict(lang);

const metadata = {
  title: t(dict, 'success.meta.title'),
  description: t(dict, 'success.meta.description'),
};
---

<Layout metadata={metadata}>
  <section class="max-w-xl mx-auto py-20 text-center">
    <h1 class="text-3xl font-bold mb-4">
      ✅ {t(dict, 'success.title')}
    </h1>

    <p class="text-lg mb-8">
      {t(dict, 'success.subtitle1')}<br />
      {t(dict, 'success.subtitle2')}
    </p>

    <!-- ✅ Boutons Mac + Windows -->
    <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-8">
      <!-- macOS -->
      <a
        href="https://github.com/Odemichel/AeroX-release/releases/download/MacOs_V1.0.0/AeroX-macos-V1.0.0.zip"
        class="inline-flex items-center justify-center gap-3 bg-black hover:bg-neutral-800 text-white rounded-xl px-5 py-3 shadow-md transition"
        download
      >
        <Icon name="tabler:brand-apple-filled" class="w-10 h-10" />
        <span class="text-left">
          <span class="block text-xs leading-none pb-1">
            {t(dict, 'success.download1')} <span class="text-primary font-bold">AeroX</span> {t(dict, 'success.download2mac')}
          </span>
          <span class="block text-base font-semibold leading-none">macOS</span>
        </span>
      </a>

      <!-- Windows -->
      <a
        href="https://github.com/Odemichel/AeroX-release/releases/download/WindowsV1.0.0/AeroX-V1.zip"
        class="inline-flex items-center justify-center gap-3 bg-black hover:bg-neutral-800 text-white rounded-xl px-5 py-3 shadow-md transition"
        download
      >
        <Icon name="tabler:brand-windows-filled" class="w-10 h-10" />
        <span class="text-left">
          <span class="block text-xs leading-none pb-1">
            {t(dict, 'success.download1')} <span class="text-primary font-bold">AeroX</span> {t(dict, 'success.download2win')}
          </span>
          <span class="block text-base font-semibold leading-none">Windows</span>
        </span>
      </a>
    </div>

    <!-- ✅ Retour accueil -->
    <div class="flex justify-center">
      <a href={`/${lang}`} class="btn btn-primary px-6 py-3">
        {t(dict, 'success.backHome')}
      </a>
    </div>
  </section>
</Layout>
